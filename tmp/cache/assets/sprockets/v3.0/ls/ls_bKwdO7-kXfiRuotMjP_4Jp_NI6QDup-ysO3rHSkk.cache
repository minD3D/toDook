I"ß(function() {
  $(function() {
    var modal_holder_selector, modal_selector, url;
    modal_holder_selector = '#modal-holder';
    modal_selector = '.modal';
    $(document).on('click', 'a[data-modal]', function() {
      var location;
      location = $(this).attr('href');
      $.get(location, function(data) {
        return $(modal_holder_selector).html(data).find(modal_selector).modal();
      });
      return false;
    });
    return $(document).on('ajax:success', 'form[data-modal]', function(event, data, status, xhr) {}, url = xhr.getResponseHeader('Location'), url ? window.location = url : ($('.modal-backdrop').remove(), $(modal_holder_selector).html(data).find(modal_selector).modal()), false);
  });

}).call(this);
:ET